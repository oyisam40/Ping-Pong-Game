package org.example;
import java.util.ArrayList;
import java.util.InputMismatchException;
import java.util.Scanner;

//TIP To <b>Run</b> code, press <shortcut actionId="Run"/> or
// click the <icon src="AllIcons.Actions.Execute"/> icon in the gutter.
package org.example;

class Student {
     private String name;
     private int id;
     private int age;
     private int grade;

     public Student( int id, String name, int age, int grade){
          this.id = id;
          this.name = name;
          this.age= age;
          this.grade = grade;
     }

      int getId(){
          return id;
     }

     void setId(int id){
          this.id = id;
     }

     int getName(){
          return id;
     }

     void setName(int id){
          this.id = id;
     }

     int getAge(){
          return id;
     }

     void setAge(int id){
          this.id = id;
     }

     int getGrade(){
          return id;
     }

     void setGrade(int id){
          this.id = id;
     }
     @Override
     public String toString(){
          return "ID: " + id + ", Name: " + name + ", Age: " + age + ", Grade: " + grade;
     }

}


public class Main {
    private static ArrayList<Student> students = new ArrayList<>();
    private static Scanner sc = new Scanner(System.in);

    public static void main(String[] args) {
        boolean running = true;

        while (running) {
            System.out.println("Welcome to the Student Management System :)");
            System.out.println("1. Add Student");
            System.out.println("2. View All Students");
            System.out.println("3. Search Student");
            System.out.println("4. Delete Student");
            System.out.println("5. Exit");
            System.out.println("Enter your choice: ");

            try {
                int choice = sc.nextInt();
                sc.nextLine();

                switch (choice) {
                    case 1:
                        addStudent();
                        break;
                    case 2:
                        viewAllStudents();
                        break;
                    case 3:
                        searchForStudent();
                        break;
                    case 4:
                        deleteStudent();
                        break;
                    case 5:
                        running = false;
                        break;
                    default:
                        System.out.println("Invalid choice. Please try again");
                }

                } catch (InputMismatchException e){
                System.out.println("Invalid input, Please enter a number you see on the list! :(");
                sc.nextLine();
            }
            }


        System.out.println("Program exited ! Goodbye ;)");
        sc.close();
    }

            private static void addStudent() {
        try {
            System.out.println("Enter student ID: ");
            int id = sc.nextInt();
            sc.nextLine();

            System.out.println("Enter student name: ");
            String name = sc.nextLine();

            System.out.println("Enter student age: ");
            int age = sc.nextInt();

            System.out.println("Enter student grade: ");
            int grade = sc.nextInt();

            Student student = new Student(id, name, age, grade);
            students.add(student);

            System.out.println("Student added successfully <3");
        } catch (InputMismatchException e){
            System.out.println("Invalid input, Please enter a number you see on the list! :(");
        }
            }

            private static void viewAllStudents(){
                if(students.isEmpty()){
                    System.out.println("Students not found :(");
                    return;
                }

                System.out.println("\nList of Students");
                for (Student student : students) {
                    System.out.println(student);
                }
            }

            private static void searchForStudent(){
        try {
            System.out.println("Enter student ID to search: ");
            int id = sc.nextInt();

            boolean found = false;
            for (Student student : students) {
                if (student.getId() == id) {
                    System.out.println("Student found: ");
                    System.out.println(student);
                    found = true;
                    break;
                }
            }

            if (!found) {
                System.out.println("Student with the ID " + id + " not found :(");
            }
        } catch (InputMismatchException e){
            System.out.println("Invalid input, please enter one of the numbers you see on the list :(");
        }
            }

            private static void deleteStudent() {
                try {
                    System.out.println("Enter the Student ID you want delete: ");
                    int id = sc.nextInt();

                    boolean removed = students.removeIf(student -> student.getId() == id);

                    if (removed) {
                        System.out.println("Student with ID " + id + " deleted successfully ;)");
                    } else {
                        System.out.println("Student with ID " + id + " not found :(");
                    }
                } catch (InputMismatchException e){
                    System.out.println("Invalid input ! please enter a number you see on the menu :(");

                }
            }


        }
